# Dog-Catch 🐾

智能媒体资源检测与预览工具 - 专注自动检测和媒体预览

## 📋 项目概述

Dog-Catch 是一个现代化的浏览器扩展，基于 cat-catch 核心技术开发，专注于两大核心功能：

- 🔍 **自动检测网页媒体资源** - 智能识别视频、音频、图片等多种格式
- 🎬 **媒体预览与本地字幕加载** - 集成 Video.js 播放器，支持本地字幕

## ✨ 核心特性

### 🎯 **智能资源检测**

- 自动识别网页中的视频、音频、图片等媒体资源
- 支持 MP4、M3U8、MPD、WebM 等多种格式
- 实时检测动态加载的资源

### 🔍 **深度搜索技术**

- 完整移植 cat-catch 的核心检测引擎
- 15+ 种函数劫持技术，检测隐藏资源
- 支持加密密钥检测和流媒体解析

### 🎨 **现代化界面**

- 卡片式资源展示，信息丰富直观
- 智能搜索和多条件过滤
- 流畅的动画效果和交互反馈
- 实时统计信息面板

### ⚡ **高性能优化**

- 统一虚拟滚动技术，始终保持高性能
- 智能资源发现耗时统计
- 响应式设计，适配各种屏幕

### 🛡️ **隐私安全**

- 本地处理，不上传任何数据
- 开源透明，代码可审计
- 无广告，无追踪

## 🚀 开发状态

### ✅ 已完成 - 阶段 1: 悬浮球与侧边栏界面开发

- [x] Chrome 扩展基本结构 (manifest.json, 基础文件)
- [x] 扩展图标文件 (16x16, 48x48, 128x128 PNG 格式)
- [x] 悬浮球组件实现 (56px, 渐变色彩, 动画效果)
- [x] 侧边栏界面开发 (360px 宽度, 毛玻璃效果)
- [x] 响应式设计和交互逻辑
- [x] 位置记忆和磁性吸附功能

### ✅ 已完成 - 阶段 2: 核心技术移植与资源检测

- [x] 完整移植 cat-catch 的资源嗅探功能
- [x] 网络监听和格式检测逻辑
- [x] 深度搜索脚本注入技术
- [x] 数据存储和管理机制
- [x] 15+ 种函数劫持实现

### ✅ 已完成 - 阶段 3: UI 完善与用户体验优化

- [x] 现代化卡片式资源布局
- [x] 智能搜索和过滤功能
- [x] 流畅动画效果和交互反馈
- [x] 虚拟滚动性能优化
- [x] 统计信息面板和性能监控

### 🎉 项目完成状态

**Dog-Catch v2.0.0 已完成所有核心功能开发！**

现在具备完整的媒体资源检测和管理能力，可以在任何网页中自动发现和管理媒体资源。

## 🧪 如何测试当前版本

### 1. 加载扩展到 Chrome

1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择 `dog-catch` 项目文件夹

### 2. 测试功能

#### 悬浮球测试

- 访问任意网页，应该能看到右侧的圆形悬浮球 🐾
- 测试悬停效果：鼠标悬停时球体放大，有阴影扩散
- 测试点击效果：点击时有脉冲和涟漪动画
- 测试拖拽功能：可以拖拽悬浮球到任意位置
- 测试磁性吸附：释放时自动吸附到屏幕边缘
- 测试位置记忆：刷新页面后位置保持

#### 侧边栏测试

- 点击悬浮球打开侧边栏
- 测试滑入动画：从右侧平滑滑入
- 测试毛玻璃效果：背景模糊和半透明
- 测试关闭功能：点击关闭按钮或点击外部区域
- 测试响应式：在不同屏幕尺寸下的适配

#### 扩展图标测试

- 点击扩展图标直接打开侧边栏
- 测试快速访问功能

### 3. 预期效果

- 悬浮球应该显示为紫色渐变的圆形，带有狗爪图标
- 悬浮球具有平滑的动画效果和交互反馈
- 侧边栏具有现代化的毛玻璃效果
- 所有动画应该流畅，响应及时
- 在移动端应该有适当的适配

## 📁 项目结构

```
dog-catch/
├── manifest.json              # Chrome 扩展清单文件
├── background.js              # 后台脚本 (Service Worker)
├── content.js                 # 内容脚本
├── css/
│   ├── floating-ball.css      # 悬浮球样式
│   └── sidebar.css            # 侧边栏样式
├── js/
│   ├── utils.js               # 工具函数库
│   ├── floating-ball.js       # 悬浮球组件
│   └── sidebar.js             # 侧边栏组件
├── icons/
│   ├── dog-paw.svg           # 狗爪图标
│   ├── icon16.png            # 16x16 扩展图标
│   ├── icon48.png            # 48x48 扩展图标
│   └── icon128.png           # 128x128 扩展图标
└── README.md                  # 项目说明
```

## 🎯 开发进度

### ✅ 阶段 1: 悬浮球与侧边栏界面开发 (已完成)

- ✅ Chrome 扩展基本结构 (Manifest V3)
- ✅ 悬浮球组件 (56px 圆形，紫色渐变，完整动画效果)
- ✅ 侧边栏界面 (360px 宽度，毛玻璃效果，滑入/滑出动画)
- ✅ 位置记忆和磁性吸附功能
- ✅ 响应式设计和交互逻辑

### ✅ 阶段 2: 核心技术移植与资源检测 (已完成)

- ✅ 移植 cat-catch 的资源检测引擎
- ✅ 实现 webRequest API 网络监听
- ✅ 开发 M3U8/MPD 流媒体格式解析器
- ✅ 创建资源去重和智能过滤机制
- ✅ 深度搜索脚本注入功能
- ✅ 完整的数据存储和管理机制

## 🎯 下一步开发计划

### 阶段 3: 剩余 UI 完善与用户体验优化 (2 周)

- 完善资源列表的卡片式布局设计
- 添加资源类型图标和颜色标识系统
- 实现搜索过滤和分类显示功能

### 阶段 4: 媒体预览功能开发 (3.5 周)

- 集成 Video.js 播放器
- 实现本地字幕加载功能
- 开发高级播放功能

## 🐛 问题反馈

如果在测试过程中发现问题，请记录：

1. 浏览器版本和操作系统
2. 具体的操作步骤
3. 预期结果和实际结果
4. 控制台错误信息（如有）

## 📄 许可证

本项目基于 MIT 许可证开源。
